<div class="container-fluid mt-2">
    <div class="card container">
      <div class="card-body">
        <div class="d-flex align-items-center justify-content-between flex-wrap mb-4">
          <h5 class="d-flex align-items-center card-title fs-5 fw-semibold">Your projects</h5>
          <button class="btn btn-primary fs-6 d-flex " *ngIf="isAdminOrDevops" (click)="open(content)">Add a new project</button>
        </div>
        <div class="row">
          <div class="col-md-6 col-xl-4" *ngFor="let project of (projects | async)">
            <div class="card p-4">
              <div>
                <div class="card-square mb-3 d-flex justify-content-center align-items-center">{{project.name.slice(0, 1)}}</div>
                <div class="card-title project-title">{{ project.name }}</div>
                <div class="p-0 card-body project mt-2">
                  {{ project.description }}
                </div>
                <div class="w-100">
                  <div class="actions">  
                  <button class="btn btn-primary fs-6 mt-2 d-flex align-items-center" (click)="selectProject(project)">
                    <mat-icon>work</mat-icon>
                    <span class="mx-2">Work</span>
                  </button>
                  
                  <button class="btn btn-info text-white fs-6 mt-2 d-flex align-items-center" *ngIf="isAdminOrDevops">
                    <mat-icon>work</mat-icon>
                    <span class="mx-2">Details</span>
                  </button>
                  <button class="btn btn-warning text-white fs-6 mt-2 d-flex align-items-center" *ngIf="isAdminOrDevops" (click)="editOpen(edit, project)">
                    <mat-icon>work</mat-icon>
                    <span class="mx-2">Edit</span>
                  </button>
                  <button class="btn btn-danger text-white fs-6 mt-2 d-flex align-items-center"  *ngIf="isAdminOrDevops" (click)="deleteProject(project.id)">
                    <mat-icon>work</mat-icon>
                    <span class="mx-2">Delete</span>
                  </button>
                  </div>

                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <ng-template #content let-modal>
    <app-add-project-modal></app-add-project-modal>
  </ng-template>
  
  <ng-template #edit let-modal>
    <app-edit-project-modal [project]="selectedProject"></app-edit-project-modal>
  </ng-template>
  